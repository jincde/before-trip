{% load static %}
<!doctype html>
<html lang="en">

<head>
  <meta charset="utf-8">
  <meta name="viewport" content="width=device-width, initial-scale=1">
  <title>비포트립 :: 여행전날 체크하자</title>
  <link href="https://cdn.jsdelivr.net/npm/bootstrap@5.2.3/dist/css/bootstrap.min.css" rel="stylesheet"
    integrity="sha384-rbsA2VBKQhggwzxH7pPCaAqO46MgnOM80zW1RWuH61DGLwZJEdK2Kadq2F9CUG65" crossorigin="anonymous">
  <link href="https://fonts.googleapis.com/icon?family=Material+Icons" rel="stylesheet">
  <link rel="stylesheet" href="{% static 'css/trans_navbar.css' %}">
  <link rel="stylesheet"
    href="https://fonts.googleapis.com/css2?family=Material+Symbols+Outlined:opsz,wght,FILL,GRAD@24,400,0,0" />

  {% block css %}{% endblock css %}

</head>

<body>
  <header class="nav-bar d-flex align-items-center scroll" style="z-index: 1;">
    <section class="container d-flex justify-content-between align-items-center" style="width: 1024px">
      <h1><a href="#" title="여행전날">여행전날</a></h1>
      <div class="d-flex">
        <a><span class="material-symbols-outlined search-icn">
            search
          </span></a>
        <ul class="large-menu px-1">
          <li>메인</li>
          <li>커뮤니티</li>
          <li>내 스케쥴</li>
        </ul>
      </div>
      <div class="small-menu">
        <button class="search-icn2">검색</button>
        <button class="btn-menu">메뉴</button>
      </div>
    </section>
  </header>
  <div class="search-comp">
    <div class="search-inner">
      <div class="search-input">
        <form action="{% url 'communities:search' %}" method="">
          {% csrf_token %}
          <input type="text" name="keyword" placeholder="검색어를 입력해주세요.">
        </form>
        <!---->
      </div>
      <div class="search-bg">
        <div class="bg-dk">
          <div class="circle-group left"><svg viewBox="0 0 600 600" width="600" height="600">
              <defs>
                <linearGradient id="circle-gradient03">
                  <stop offset="0%" stop-color="#fff" stop-opacity="1"></stop>
                  <stop offset="50%" stop-color="#f2f3f9" stop-opacity="1"></stop>
                </linearGradient>
              </defs>
              <rect width="600" height="600" fill="url(#circle-gradient03)" rx="300"></rect>
            </svg></div>
          <div class="circle-group right"><svg viewBox="0 0 600 600" width="600" height="600">
              <defs>
                <linearGradient id="circle-gradient04">
                  <stop offset="0%" stop-color="#fff" stop-opacity="1"></stop>
                  <stop offset="50%" stop-color="#f2f3f9" stop-opacity="1"></stop>
                </linearGradient>
              </defs>
              <rect width="600" height="600" fill="url(#circle-gradient04)" rx="300"></rect>
            </svg></div>
        </div>
        <div class="bg-lt">
          <div class="circle-group left"><svg viewBox="0 0 600 600" width="600" height="600">
              <defs>
                <linearGradient id="circle-gradient03">
                  <stop offset="0%" stop-color="#fff" stop-opacity="1"></stop>
                  <stop offset="50%" stop-color="#f2f3f9" stop-opacity="1"></stop>
                </linearGradient>
              </defs>
              <rect width="600" height="600" fill="url(#circle-gradient03)" rx="300"></rect>
            </svg></div>
          <div class="circle-group right"><svg viewBox="0 0 600 600" width="600" height="600">
              <defs>
                <linearGradient id="circle-gradient04">
                  <stop offset="0%" stop-color="#fff" stop-opacity="1"></stop>
                  <stop offset="50%" stop-color="#f2f3f9" stop-opacity="1"></stop>
                </linearGradient>
              </defs>
              <rect width="600" height="600" fill="url(#circle-gradient04)" rx="300"></rect>
            </svg></div>
        </div>
      </div>
    </div>
    <div class="modal-overlay"></div>
  </div>
  <ul class="list-group">
    <li class="list-group-item">메인</li>
    <li class="list-group-item">커뮤니티</li>
    <li class="list-group-item">내 스케쥴</li>
  </ul>

  {% block body %}{% endblock %}

  <script>
    // 검색모달
    document.querySelector('.search-icn').addEventListener('click', function () {
      document.querySelector('.search-comp').classList.add('is--open')
    })

    document.querySelector('.modal-overlay').addEventListener('click', function () {
      document.querySelector('.search-comp').classList.remove('is--open')
    })
  </script>

  <script src="https://code.jquery.com/jquery-1.8.0.js" integrity="sha256-00Fh8tkPAe+EmVaHFpD+HovxWk7b97qwqVi7nLvjdgs="
    crossorigin="anonymous"></script>
  <script type="text/javascript">
    $(window).on('load', function () {
      $("#load").hide();
    });
  </script>

  <style type="text/css">
    #load {
      width: 100%;
      height: 100%;
      top: 0;
      left: 0;
      position: fixed;
      display: block;
      opacity: 0.8;
      background: white;
      z-index: 99;
      text-align: center;
    }

    #load>img {
      position: absolute;
      top: 50%;
      left: 50%;
      z-index: 100;
    }
  </style>
  <div id="load">
    <img src="{% static 'images/loading.gif' %}" alt="loading">
  </div>
  <script>
    // 반응형 햄버거 메뉴 제거
    window.onresize = function () {
      const width = window.innerWidth;

      if (width >= 1024) {
        document.querySelector('.list-group').classList.remove('show')
      }
    }
  </script>
  <script>
    // 햄버거 메뉴 토글
    document.querySelector('.btn-menu').addEventListener('click', function () {
      document.querySelector('.list-group').classList.toggle('show')
    })
  </script>
  <script>
    // 스크롤 시 헤더 색상 변경
    const header = document.querySelector('header');

    window.onscroll = function () {
      let top = window.scrollY;
      if (top >= 20) {
        header.classList.add('scroll')
      } else {
        header.classList.remove('scroll');
      }
    }
  </script>
  <script>
    // 소식 스크롤링
    document.addEventListener('DOMContentLoaded', () => {
      var interval = window.setInterval(rollingCallback, 3000);
    })
    function rollingCallback() {
      //.prev 클래스 삭제
      document.querySelector('.rollingbanner .prev').classList.remove('prev');

      //.current -> .prev
      let current = document.querySelector('.rollingbanner .current');
      current.classList.remove('current');
      current.classList.add('prev');

      //.next -> .current
      let next = document.querySelector('.rollingbanner .next');
      //다음 목록 요소가 널인지 체크
      if (next.nextElementSibling == null) {
        document.querySelector('.rollingbanner ul li:first-child').classList.add('next');
      } else {
        //목록 처음 요소를 다음 요소로 선택
        next.nextElementSibling.classList.add('next');
      }
      next.classList.remove('next');
      next.classList.add('current');
    }
  </script>
  <script src="https://cdn.jsdelivr.net/npm/bootstrap@5.2.3/dist/js/bootstrap.bundle.min.js"
    integrity="sha384-kenU1KFdBIe4zVF0s0G1M5b4hcpxyD9F7jL+jjXkk+Q2h455rYXK/7HAuoJl+0I4"
    crossorigin="anonymous"></script>
</body>

</html>